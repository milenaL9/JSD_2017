<!DOCTYPE html>
<html>
    <head>
        <title>Rodoslov</title>
        <link rel="stylesheet" type="text/css" href="Treant.css">
        <script src="Treant.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.js"
                 integrity="sha256-MPXjTSEImVJI1834JAHubdK7Lts1VTUPJmCQ9zKAjyA="
                crossorigin="anonymous"></script>
    </head>

    <body>
        <p>{{rodoslov.title}}</p><br/><br/>
        <div id="tree-simple" style="height: 600px; margin: 5px; width: 2000px;"> </div>
        <script>
            simple_chart_config = {
                chart: {
                    container: "#tree-simple"
                },

                nodeStructure: {
                    text: { name: "{{rodoslov.rodonacelnik.ime.value}}",
                            {% for titulaR in rodoslov.rodonacelnik.titule %}
                            titula:    "{{titulaR.tip}},{{titulaR.teritorija.nazivTeritorije}},{{titulaR.teritorija.pocetakVladavine.value}} - {{titulaR.teritorija.krajVladavine.value}} ",
                            {%endfor%}
                     },
                    children: [
                        {% for vladar in rodoslov.rodonacelnik.potomci %}
                        {
                            text: { name: "{{vladar.ime.value}}",
                                    {% for titulaV in vladar.titule %}
                                    titula: "{{titulaV.tip}}, {{titulaV.teritorija.nazivTeritorije}},{{titulaV.teritorija.pocetakVladavine.value}}-{{titulaV.teritorija.krajVladavine.value}}",
                                    {% endfor %}
                             },
                            children:[
                                {% for vladar1 in vladar.potomci %}
                                    {
                                        text: { name: "{{vladar1.ime.value}}",
                                                {% for titulaV in vladar1.titule %}
                                                    titula: "{{titulaV.tip}}, {{titulaV.teritorija.nazivTeritorije}},{{titulaV.teritorija.pocetakVladavine.value}}-{{titulaV.teritorija.krajVladavine.value}}",
                                                {% endfor %}
                                         },
                                    },
                                {% endfor %}
                            ]
                        },
                        {% endfor %}
                    ]
                }
            };

            var my_chart = new Treant(simple_chart_config);
        </script>
    </body>
</html>
